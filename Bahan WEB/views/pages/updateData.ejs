<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Data</title>
    <link rel="stylesheet" href="https://stackpath.bootstrapcdn.com/bootstrap/4.3.1/css/bootstrap.min.css" integrity="sha384-ggOyR0iXCbMQv3Xipma34MD+dH/1fQ784/j6cY/iJTQUOhcWr7x9JvoRxT2MZw1T" crossorigin="anonymous">
    <!-- <link rel="stylesheet" href="css/home.css"> -->
    <link href="https://fonts.googleapis.com/css2?family=Amiko:wght@400;600;700&display=swap" rel="stylesheet">
    <link href="https://fonts.googleapis.com/css2?family=Roboto:wght@400;700;900&display=swap" rel="stylesheet">

    <style>
        body{
            margin: 0 auto;
            margin-top: 50px ;
            background-color:  #F4F9F9;
            width: 90%;
            font-family: 'Roboto', sans-serif;
        }
        h1{
            text-align: center;
            margin: 50px;
        }
    </style>
</head>
<body>
  <a href="/show-data" style="color: #006667;">Back to Data</a>
  <form method="POST" id="add_items">
    <h1 style="color:  #006667; font-weight: bold;">Update Data</h1>
    <form method="post" action="/input-data">
      
      <div class="form-group">
        <label>Path Image</label>
        <input name="Image" value="<%= items.Image %>" type="text" class="form-control"  placeholder="public/img/(path)">
      </div>
      <div class="form-group">
        <label >Name</label>
        <input name="Name" value="<%= items.Name %>" type="text" class="form-control" placeholder="Nasa Jacket">
      </div>
        <div class="form-row">
          <div class="form-group col-md-6">
            <label >Price</label>
            <input name="ListPrice" value="<%= items.ListPrice %>" type="number" class="form-control"  placeholder="300000">
          </div>
          <div class="form-group col-md-6">
            <label >Discount</label>
            <input name="Discount" value="<%= items.Discount %>" type="number" class="form-control" placeholder="20">
          </div>
        </div>
        <div class="form-row">
          <div class="form-group col-md-6">
            <label for="inputState" >Category</label>
            <select id="inputState" name="Category"  value="<%= items.Category %>" class="form-control">
              <option selected>Choose...</option>
              <option>Art</option>
              <option>Bag</option>
              <option>Table</option>
              <option>Hoodie</option>
              <option>Shirit</option>
              <option>T-Shirit</option>
              <option>Shoes</option>
              <option>Pants</option>
              <option>Watch</option>
              <option>Jacket</option>
              <option>Heat</option>
              <option>Totebag</option>
              <option>Pillow</option>
              <option>Smartphone</option>
              <option>Smartwatch</option>
              <option>Washing Machine</option>
              <option>Home Theater</option>
              <option>Guitar</option>
              <option>Bass</option>
              <option>Piano</option>
              <option>Drum</option>
              <option>Skin Care</option>
              <option>Face Wash</option>
              <option>Sneaker</option>
              <option>Jewerly</option>
              <option>Laptop</option>
              <option>Monitor</option>
              <option>Dekstop</option>
              <option>Chair</option>
              <option>Bed</option>
              <option>Mirrorless</option>
              <option>Drone</option>
              <option>Action Camera</option>
            </select>
          </div>
          <div class="form-group col-md-6">
            <label for="inputState" >Filter</label>
            <select id="inputState" name="Filter" value="<%= items.Filter %>"  class="form-control">
              <option selected>Choose...</option>
              <option>Trending</option>
              <option>Sale</option>
              <option>Best</option>
              <option>Favorite</option>
            </select>
          </div>
        </div>
        <div class="form-group">
          <label >Description</label>
          <input name="Description" value="<%= items.Description %>" type="text" class="form-control"  placeholder="Warm and cool">
        </div>
        </div>
        <button id="update_items" type="submit" class="btn btn-primary" style="background-color: #006667; border-color:  #006667;">Save</button>
      </form>

    </form>

    <script src="https://code.jquery.com/jquery-3.5.1.js" integrity="sha256-QWo7LDvxbWT2tbbQ97B53yJnYU3WhH/C8ycbRAkjPDc=" crossorigin="anonymous"></script>
    <script src="https://cdnjs.cloudflare.com/ajax/libs/popper.js/1.12.9/umd/popper.min.js" integrity="sha384-ApNbgh9B+Y1QKtv3Rn7W3mgPxhU9K/ScQsAP7hUibX39j7fakFPskvXusvfa0b4Q" crossorigin="anonymous"></script>
    <script src="https://maxcdn.bootstrapcdn.com/bootstrap/4.0.0/js/bootstrap.min.js" integrity="sha384-JZR6Spejh4U02d8jOt6vLEHfe/JQGiRRSQQxSfFWpi1MquVdAyjUar5+76PVCmYl" crossorigin="anonymous"></script>

    <script>
    $("#update_items").submit(function(event){
    event.preventDefault();

    var unindexed_array = $(this).serializeArray();
    var data = {}

    $.map(unindexed_array, function(n, i){
        data[n['Name']] = n['value']
    })


    var request = {
        "url" : `http://localhost:3000/api/items/${data._id}`,
        "method" : "PUT",
        "data" : data
    }

    $.ajax(request).done(function(response){
        alert("Data Updated Successfully!");
    })

})
    </script>
  </body>
</html>